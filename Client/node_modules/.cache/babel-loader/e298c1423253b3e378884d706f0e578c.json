{"ast":null,"code":"import * as s from \"react\";\nimport S from \"./e\";\n\nlet i = (r, a) => r === a,\n    l = {};\n\nfunction v(r) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : i;\n  let n = s.useRef(l),\n      e = n.current;\n  return S(() => {\n    n.current = e;\n  }), (n.current === l || !a(r, n.current)) && (e = r), e;\n}\n\nexport function newRidgeState(r, a) {\n  let n = [],\n      e = r;\n\n  function o(t, T) {\n    let c = e;\n    e = t instanceof Function ? t(e) : t, setTimeout(() => {\n      n.forEach(f => f(e)), T && T(e), a && a.onSet && a.onSet(e, c);\n    });\n  }\n\n  function p(t) {\n    S(() => (n.push(t), () => {\n      n = n.filter(T => T !== t);\n    }), [t]);\n  }\n\n  function u() {\n    let [t, T] = s.useState(e);\n    return p(T), [t, o];\n  }\n\n  function d(t) {\n    let T = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : i;\n    const [c] = u();\n    return v(t(c), T);\n  }\n\n  return {\n    use: u,\n    useSelector: d,\n    useValue: () => u()[0],\n    get: () => e,\n    set: o,\n    reset: () => o(r)\n  };\n}","map":{"version":3,"sources":["/Users/oyujin/Documents/GitHub/lol-publishing/node_modules/react-ridge-state/dist/index.js"],"names":["s","S","i","r","a","l","v","n","useRef","e","current","newRidgeState","o","t","T","c","Function","setTimeout","forEach","f","onSet","p","push","filter","u","useState","d","use","useSelector","useValue","get","set","reset"],"mappings":"AAAA,OAAM,KAAIA,CAAV,MAAgB,OAAhB;AAAwB,OAAOC,CAAP,MAAa,KAAb;;AAAmB,IAAIC,CAAC,GAAC,CAACC,CAAD,EAAGC,CAAH,KAAOD,CAAC,KAAGC,CAAjB;AAAA,IAAmBC,CAAC,GAAC,EAArB;;AAAwB,SAASC,CAAT,CAAWH,CAAX,EAAiB;AAAA,MAAJC,CAAI,uEAAFF,CAAE;AAAC,MAAIK,CAAC,GAACP,CAAC,CAACQ,MAAF,CAASH,CAAT,CAAN;AAAA,MAAkBI,CAAC,GAACF,CAAC,CAACG,OAAtB;AAA8B,SAAOT,CAAC,CAAC,MAAI;AAACM,IAAAA,CAAC,CAACG,OAAF,GAAUD,CAAV;AAAY,GAAlB,CAAD,EAAqB,CAACF,CAAC,CAACG,OAAF,KAAYL,CAAZ,IAAe,CAACD,CAAC,CAACD,CAAD,EAAGI,CAAC,CAACG,OAAL,CAAlB,MAAmCD,CAAC,GAACN,CAArC,CAArB,EAA6DM,CAApE;AAAsE;;AAAA,OAAO,SAASE,aAAT,CAAuBR,CAAvB,EAAyBC,CAAzB,EAA2B;AAAC,MAAIG,CAAC,GAAC,EAAN;AAAA,MAASE,CAAC,GAACN,CAAX;;AAAa,WAASS,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAIC,CAAC,GAACN,CAAN;AAAQA,IAAAA,CAAC,GAACI,CAAC,YAAYG,QAAb,GAAsBH,CAAC,CAACJ,CAAD,CAAvB,GAA2BI,CAA7B,EAA+BI,UAAU,CAAC,MAAI;AAACV,MAAAA,CAAC,CAACW,OAAF,CAAUC,CAAC,IAAEA,CAAC,CAACV,CAAD,CAAd,GAAmBK,CAAC,IAAEA,CAAC,CAACL,CAAD,CAAvB,EAA2BL,CAAC,IAAEA,CAAC,CAACgB,KAAL,IAAYhB,CAAC,CAACgB,KAAF,CAAQX,CAAR,EAAUM,CAAV,CAAvC;AAAoD,KAA1D,CAAzC;AAAqG;;AAAA,WAASM,CAAT,CAAWR,CAAX,EAAa;AAACZ,IAAAA,CAAC,CAAC,OAAKM,CAAC,CAACe,IAAF,CAAOT,CAAP,GAAU,MAAI;AAACN,MAAAA,CAAC,GAACA,CAAC,CAACgB,MAAF,CAAST,CAAC,IAAEA,CAAC,KAAGD,CAAhB,CAAF;AAAqB,KAAzC,CAAD,EAA4C,CAACA,CAAD,CAA5C,CAAD;AAAkD;;AAAA,WAASW,CAAT,GAAY;AAAC,QAAG,CAACX,CAAD,EAAGC,CAAH,IAAMd,CAAC,CAACyB,QAAF,CAAWhB,CAAX,CAAT;AAAuB,WAAOY,CAAC,CAACP,CAAD,CAAD,EAAK,CAACD,CAAD,EAAGD,CAAH,CAAZ;AAAkB;;AAAA,WAASc,CAAT,CAAWb,CAAX,EAAiB;AAAA,QAAJC,CAAI,uEAAFZ,CAAE;AAAC,UAAK,CAACa,CAAD,IAAIS,CAAC,EAAV;AAAa,WAAOlB,CAAC,CAACO,CAAC,CAACE,CAAD,CAAF,EAAMD,CAAN,CAAR;AAAiB;;AAAA,SAAM;AAACa,IAAAA,GAAG,EAACH,CAAL;AAAOI,IAAAA,WAAW,EAACF,CAAnB;AAAqBG,IAAAA,QAAQ,EAAC,MAAIL,CAAC,GAAG,CAAH,CAAnC;AAAyCM,IAAAA,GAAG,EAAC,MAAIrB,CAAjD;AAAmDsB,IAAAA,GAAG,EAACnB,CAAvD;AAAyDoB,IAAAA,KAAK,EAAC,MAAIpB,CAAC,CAACT,CAAD;AAApE,GAAN;AAA+E","sourcesContent":["import*as s from\"react\";import S from\"./e\";let i=(r,a)=>r===a,l={};function v(r,a=i){let n=s.useRef(l),e=n.current;return S(()=>{n.current=e}),(n.current===l||!a(r,n.current))&&(e=r),e}export function newRidgeState(r,a){let n=[],e=r;function o(t,T){let c=e;e=t instanceof Function?t(e):t,setTimeout(()=>{n.forEach(f=>f(e)),T&&T(e),a&&a.onSet&&a.onSet(e,c)})}function p(t){S(()=>(n.push(t),()=>{n=n.filter(T=>T!==t)}),[t])}function u(){let[t,T]=s.useState(e);return p(T),[t,o]}function d(t,T=i){const[c]=u();return v(t(c),T)}return{use:u,useSelector:d,useValue:()=>u()[0],get:()=>e,set:o,reset:()=>o(r)}}\n"]},"metadata":{},"sourceType":"module"}